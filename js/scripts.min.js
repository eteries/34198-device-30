const modalContacts=document.querySelector(".modal-form"),formContacts=modalContacts.querySelector(".contact-form"),nameInput=formContacts.querySelector("[name=contact-name]"),eMailInput=formContacts.querySelector("[name=contact-email]"),messageInput=formContacts.querySelector("[name=contact-message]"),btnContactsOpen=document.querySelector(".button-contacts"),btnContactsClose=modalContacts.querySelector(".close-button");let isStorageSupport=!0,storedName="",storedEMail="";try{storedName=localStorage.getItem("name"),storedEMail=localStorage.getItem("email")}catch(t){isStorageSupport=!1}function closeModal(){modalContacts.classList.remove("modal-active"),modalContacts.classList.remove("modal-error")}btnContactsOpen.addEventListener("click",t=>{t.preventDefault(),modalContacts.classList.add("modal-active"),messageInput.focus(),storedEMail?eMailInput.value=storedEMail:eMailInput.focus(),storedName?nameInput.value=storedName:nameInput.focus()}),formContacts.addEventListener("submit",t=>{if(!nameInput.value||!eMailInput.value)return t.preventDefault(),modalContacts.classList.remove("modal-error"),modalContacts.offsetWidth,void modalContacts.classList.add("modal-error");isStorageSupport&&(window.localStorage.setItem("name",nameInput.value),window.localStorage.setItem("email",eMailInput.value))}),btnContactsClose.addEventListener("click",()=>closeModal()),window.addEventListener("keydown",t=>{"Escape"===t.key&&modalContacts.classList.contains("modal-active")&&closeModal()});const modalMap=document.querySelector(".modal-map"),btnMapOpen=document.querySelector(".contacts-map"),btnMapClose=modalMap.querySelector(".close-button");btnMapOpen.addEventListener("click",t=>{t.preventDefault(),modalMap.classList.add("modal-active")}),btnMapClose.addEventListener("click",()=>{modalMap.classList.remove("modal-active")}),window.addEventListener("keydown",t=>{"Escape"===t.key&&modalMap.classList.contains("modal-active")&&modalMap.classList.remove("modal-active")});const slidesAdvantages=document.querySelector(".advantages-list"),buttonsAdvantages=document.querySelector(".advantages-nav");buttonsAdvantages.addEventListener("click",t=>{const e=t.target.closest(".advantages-button");if(!e||!e.dataset.num)return;const a=slidesAdvantages.querySelector(".advantages-item-active"),o=buttonsAdvantages.querySelector(".advantages-button-active"),s=slidesAdvantages.querySelector(`[data-num="${e.dataset.num}"]`);s&&(a.classList.remove("advantages-item-active"),o.classList.remove("advantages-button-active"),s.classList.add("advantages-item-active"),e.classList.add("advantages-button-active"))});const slidesPopular=document.querySelector(".popular-list"),buttonsPopular=document.querySelector(".popular-section .slider-buttons");buttonsPopular.addEventListener("click",t=>{const e=t.target.closest(".slider-button");if(!e||!e.dataset.num)return;const a=slidesPopular.querySelector(".popular-slide-active"),o=buttonsPopular.querySelector(".slider-button-active"),s=slidesPopular.querySelector(`[data-num="${e.dataset.num}"]`);s&&(a.classList.remove("popular-slide-active"),o.classList.remove("slider-button-active"),s.classList.add("popular-slide-active"),e.classList.add("slider-button-active"))});
